!function(e){var t={};function i(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=t,i.d=function(e,t,s){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},i.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=51)}(Array(18).concat([function(e,t){var i=window.setkaEditorAdapter;e.exports=Backbone.View.extend({views:{},initialize:function(){_.bindAll(this,"onTypeKitIdChanged"),this.addEvents(),this.onTypeKitIdChanged()},addEvents:function(){this.model.get("editorConfig").on("change:typeKitId",this.onTypeKitIdChanged)},onTypeKitIdChanged:function(){var e=this.model.get("editorConfig").get("typeKitId");_.isString(e)&&""!==e&&_.isUndefined(this.views[e])&&(this.views[e]=new i.view.TypeKit({model:new Backbone.Model({id:e})}),this.views[e].render())}})},function(e,t){e.exports=function(e){var t=!1,i=!1,s="table|thead|tfoot|caption|col|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|form|map|area|blockquote|address|math|style|p|h[1-6]|hr|fieldset|legend|section|article|aside|hgroup|header|footer|nav|figure|figcaption|details|menu|summary";return-1===(e=e.replace(/\r\n|\r/g,"\n")).indexOf("\n")?e:(-1!==e.indexOf("<object")&&(e=e.replace(/<object[\s\S]+?<\/object>/g,function(e){return e.replace(/\n+/g,"")})),-1===(e=e.replace(/<[^<>]+>/g,function(e){return e.replace(/[\n\t ]+/g," ")})).indexOf("<pre")&&-1===e.indexOf("<script")||(t=!0,e=e.replace(/<(pre|script)[^>]*>[\s\S]*?<\/\1>/g,function(e){return e.replace(/\n/g,"<wp-line-break>")})),-1!==e.indexOf("[caption")&&(i=!0,e=e.replace(/\[caption[\s\S]+?\[\/caption\]/g,function(e){return(e=(e=e.replace(/<br([^>]*)>/g,"<wp-temp-br$1>")).replace(/<[^<>]+>/g,function(e){return e.replace(/[\n\t ]+/," ")})).replace(/\s*\n\s*/g,"<wp-temp-br />")})),e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e+="\n\n").replace(/<br \/>\s*<br \/>/gi,"\n\n")).replace(new RegExp("(<(?:"+s+")(?: [^>]*)?>)","gi"),"\n$1")).replace(new RegExp("(</(?:"+s+")>)","gi"),"$1\n\n")).replace(/<hr( [^>]*)?>/gi,"<hr$1>\n\n")).replace(/\s*<option/gi,"<option")).replace(/<\/option>\s*/gi,"</option>")).replace(/\n\s*\n+/g,"\n\n")).replace(/([\s\S]+?)\n\n/g,"<p>$1</p>\n")).replace(/<p>\s*?<\/p>/gi,"")).replace(new RegExp("<p>\\s*(</?(?:"+s+")(?: [^>]*)?>)\\s*</p>","gi"),"$1")).replace(/<p>(<li.+?)<\/p>/gi,"$1")).replace(/<p>\s*<blockquote([^>]*)>/gi,"<blockquote$1><p>")).replace(/<\/blockquote>\s*<\/p>/gi,"</p></blockquote>")).replace(new RegExp("<p>\\s*(</?(?:"+s+")(?: [^>]*)?>)","gi"),"$1")).replace(new RegExp("(</?(?:"+s+")(?: [^>]*)?>)\\s*</p>","gi"),"$1")).replace(/(<br[^>]*>)\s*\n/gi,"$1")).replace(/\s*\n/g,"<br />\n")).replace(new RegExp("(</?(?:"+s+")[^>]*>)\\s*<br />","gi"),"$1")).replace(/<br \/>(\s*<\/?(?:p|li|div|dl|dd|dt|th|pre|td|ul|ol)>)/gi,"$1")).replace(/(?:<p>|<br ?\/?>)*\s*\[caption([^\[]+)\[\/caption\]\s*(?:<\/p>|<br ?\/?>)*/gi,"[caption$1[/caption]")).replace(/(<(?:div|th|td|form|fieldset|dd)[^>]*>)(.*?)<\/p>/g,function(e,t,i){return i.match(/<p( [^>]*)?>/)?e:t+"<p>"+i+"</p>"}),t&&(e=e.replace(/<wp-line-break>/g,"\n")),i&&(e=e.replace(/<wp-temp-br([^>]*)>/g,"<br$1>")),e)}},function(e,t){var i=jQuery,s=window.setkaEditorAdapterL10n;e.exports=Backbone.View.extend({DOM:{},initialize:function(){_.bindAll(this,"save","onHeartBeatSend","onHeartBeatTick"),this.setupDOM(),this.addEvents()},setupDOM:function(){this.DOM.document=i(document)},addEvents:function(){this.DOM.document.on("heartbeat-send."+s.names.css,this.onHeartBeatSend),this.DOM.document.on("heartbeat-tick."+s.names.css,this.onHeartBeatTick)},save:function(){window.wp.heartbeat.enqueue(s.names.css,this.model.getDataForAutosave(),!1)},onHeartBeatSend:function(e,t){_.isUndefined(t[s.names.css])&&_.isUndefined(t.wp_autosave)||(this.model.get("editorInitialized")&&(t.wp_autosave.content=this.model.get("editorContent")),t[s.names.css]=this.model.getDataForAutosave())},onHeartBeatTick:function(e,t){}})},function(e,t){var i=jQuery;e.exports=Backbone.View.extend({DOM:{},initialize:function(){_.bindAll(this,"autoOff","lateInit"),this.setupDOM(),setTimeout(this.lateInit,3e3)},lateInit:function(){this.addEvents(),this.autoOff()},setupDOM:function(){this.DOM.document=i(document)},addEvents:function(){this.model.on("change:editorInitialized",this.autoOff),this.DOM.document.on("editor-expand-on",this.autoOff)},autoOff:function(){this.model.get("editorInitialized")&&this.off()},off:function(){_.isUndefined("window.editorExpand")||window.editorExpand.off()},on:function(){_.isUndefined("window.editorExpand")||window.editorExpand.on()}})},function(e,t){var i=jQuery,s=window.setkaEditorAdapterL10n;e.exports=Backbone.View.extend({initialize:function(){_.bindAll(this,"onDefaultTabClick"),this.addEvents()},addEvents:function(){Backbone.on("setka:editor:adapter:defaultTabClick",this.onDefaultTabClick)},removeEvents:function(){Backbone.off("setka:editor:adapter:defaultTabClick",this.onDefaultTabClick)},onDefaultTabClick:function(e){i(s.pointers.disabledEditorTabs.target).pointer(s.pointers.disabledEditorTabs.options).pointer("open")}})},function(e,t){e.exports=Backbone.View.extend({el:"#post_ID",initialize:function(){this.model.set("postId",this.get())},get:function(){return this.$el.val()}})},function(e,t){var i=jQuery;e.exports=Backbone.View.extend({el:"#_wpnonce",initialize:function(){this.model.set("nonce",this.get()),_.bindAll(this,"wpRefreshNonces"),i(document).on("heartbeat-tick.wp-refresh-nonces",this.wpRefreshNonces)},get:function(){return this.$el.val()},wpRefreshNonces:function(e,t){var i=t["wp-refresh-post-nonces"];i&&i.replace[this.$el.attr("id")]&&this.model.set("nonce",i.replace[this.$el.attr("id")])}})},function(e,t){var i=window.setkaEditorAdapterL10n;e.exports=Backbone.View.extend({tagName:"input",attributes:function(){return{type:"hidden",id:i.names.css+"-settings",name:i.names.css+"-settings",val:JSON.stringify(this.model.getDataForAutosave())}},render:function(){return this.$el.val(JSON.stringify(this.model.getDataForAutosave())),this}})},function(e,t){var i=window.setkaEditorAdapter;e.exports=Backbone.View.extend({el:"#post",events:{submit:"onSubmit"},views:{},initialize:function(){this.createSubViews()},render:function(){return this.$el.append(this.views.settings.$el),this},createSubViews:function(){this.views.settings=new i.view.Settings({model:this.model}),this.views.nonce=new i.view.Nonce({model:this.model}),this.views.postId=new i.view.PostId({model:this.model})},onSubmit:function(){Backbone.trigger("setka:editor:adapter:save"),this.views.settings.render()}})},function(e,t){var i=jQuery;e.exports=Backbone.View.extend({el:"#adminmenu",DOM:{},initialize:function(){this.setupDOM()},setupDOM:function(){this.DOM.body=i(document.body),this.DOM.collapseButton=i("#collapse-button")},isFolded:function(){return this.DOM.body.hasClass("folded")},fold:function(){this.isFolded()||this.DOM.collapseButton.trigger("click.collapse-menu")},unFold:function(){this.isFolded()&&this.DOM.collapseButton.trigger("click.collapse-menu")}})},function(e,t){var i=jQuery;e.exports=Backbone.View.extend({el:"#post-body",DOM:{},initialize:function(){this.model.set("postBoxesColumns",this.getCols()),_.bindAll(this,"onPostBoxesColumnChange"),this.setupDOM(),this.addEvents()},setupDOM:function(){this.DOM.document=i(document)},addEvents:function(){this.DOM.document.on("postboxes-columnchange",this.onPostBoxesColumnChange)},getCols:function(){var e;return e=this.$el.hasClass("columns-1"),this.$el.hasClass("columns-2")&&!e?2:1},onPostBoxesColumnChange:function(){this.model.set("postBoxesColumns",this.getCols())}})},function(e,t){var i=window.setkaEditorAdapter,s=setkaEditorAdapterL10n;e.exports=Backbone.View.extend({el:"#poststuff",views:{},DOM:{},classes:{collapsed:s.names.css+"-poststuff-container-1-collapsed"},initialize:function(){_.bindAll(this,"collapse","unCollapse"),this.createSubViews()},createSubViews:function(){this.views.postBody=new i.view.postStuff.postBody.PostBody({model:this.model})},collapse:function(){this.$el.addClass(this.classes.collapsed),Backbone.trigger("setka:editor:adapter:poststuff:collapsed")},unCollapse:function(){this.$el.removeClass(this.classes.collapsed),Backbone.trigger("setka:editor:adapter:poststuff:unCollapsed")}})},function(e,t){e.exports=Backbone.View.extend({DOM:{},initialize:function(){this.setupDOM(),this.syncModel(),_.bindAll(this,"syncModel")},setupDOM:function(){this.DOM.textarea=this.$("#"+this.model.get("textareaId"))},render:function(){return this.setContent(),this},show:function(){this.$el.show()},hide:function(){this.$el.hide()},getContent:function(){return this.DOM.textarea.val()},setContent:function(){this.DOM.textarea.val(this.model.get("editorContent"))},syncModel:function(){this.model.set("editorContent",this.getContent())}})},function(e,t){var i=window.setkaEditorAdapter,s=window.setkaEditorAdapterL10n,n=jQuery,o=window.DOMPurify;e.exports=Backbone.View.extend({user:null,DOM:{},attributes:function(){return{id:"content-"+s.names.css,class:s.names.css+"-wrapper",style:"display: none;"}},initialize:function(e){this.user=e.user,this.setupDOM(),this.addEvents()},setupDOM:function(){this.DOM.document=n(document)},addEvents:function(){_.bindAll(this,"onLayoutChanged","onThemeChanged","recalculateWidth","syncModel"),window.ContentEdit.Root.get().bind("post:layout",this.onLayoutChanged),window.ContentEdit.Root.get().bind("post:theme",this.onThemeChanged),this.DOM.document.on("wp-collapse-menu",this.recalculateWidth)},render:function(){return this.DOM.stk_editor_wrapper_2=n("<div></div>").addClass(s.names.css+"-wrapper-2"),this.$el.append(this.DOM.stk_editor_wrapper_2),this},show:function(){this.model.get("editorInitialized")||(this.DOM.stk_editor_wrapper_2.html('<div id="setka-editor" class="stk-editor"></div>'),this.$el.show(),this._start(),this.model.set("editorInitialized",!0),n("body").trigger("resize").trigger("scroll"),this.model.set("editorContent",this._preparePlainContent(this.model.get("editorContent"))),this.setContent(),this.DOM.stk_editor=this.$(".stk-editor"),Backbone.trigger("setka:editor:adapter:editors:setka:launch"))},afterShow:function(){this.recalculateWidth()},hide:function(){this._stop(),this.model.set("editorInitialized",!1),this.$el.hide(),Backbone.trigger("setka:editor:adapter:editors:setka:stop")},getContent:function(){return SetkaEditor.getHTML()},setContent:function(){return SetkaEditor.replaceHTML(this.model.get("editorContent")),this},getWidth:function(){return this.DOM.stk_editor.outerWidth()},setTheme:function(e){return SetkaEditor.post.setTheme(e),this},getTheme:function(){return SetkaEditor.getCurrentTheme()},setLayout:function(e){return SetkaEditor.post.setLayout(e),this},getLayout:function(){return SetkaEditor.getCurrentLayout()},_preparePlainContent:function(e){this.user.hasCapability("unfiltered_html")||(e=o.sanitize(e));var t=document.createElement("div");t.innerHTML=e;for(var s="",n=!1,a=0;a<t.childNodes.length;a++){var d=t.childNodes[a];if(3===d.nodeType){if(""===d.textContent.trim())continue;var r=i.utils.autop(d.textContent);-1===r.indexOf("<p>")&&(r="<p>"+r+"</p>"),s+=r,n=!0}else jQuery(d).hasClass("stk-post")||(n=!0),s+=d.outerHTML}return n&&(s='<div class="stk-post">'+s+"</div>"),s},_start:function(){var e=this.model.get("editorConfig").toJSON(),t=this.model.get("editorResources").toJSON();SetkaEditor.start(e,t);var i=this.getLayout(),s=this.getTheme();this.model.get("editorConfig").set("layout",i.id),this.model.get("editorConfig").set("theme",s.id);var n=this.model.get("editorResources").getThemeBySlug(s.id).getTypeKidId();this.model.get("editorConfig").set("typeKitId",n)},_stop:function(){SetkaEditor.stop()},recalculateWidth:function(){window.ContentEdit.Root.get().trigger("editor:width")},syncModel:function(){return this.model.set("editorContent",this.getContent()),this},onLayoutChanged:function(e){this.model.get("editorConfig").set("layout",e)},onThemeChanged:function(e){this.model.get("editorConfig").set("theme",e);var t=this.model.get("editorResources").getThemeBySlug(e).getTypeKidId();this.model.get("editorConfig").set("typeKitId",t)},isRequiredResourcesAvailable:function(){var e=this.model.get("editorResources").getThemeBySlug(this.model.get("editorConfig").get("theme"));if(_.isEmpty(e))return!1;var t=this.model.get("editorResources").getLayoutBySlug(this.model.get("editorConfig").get("layout"));return!_.isEmpty(t)},isThemeDisabled:function(){var e=this.model.get("editorConfig").get("theme");return this.model.get("editorResources").getThemeBySlug(e).isDisabled()}})},function(e,t){var i=window.setkaEditorAdapterL10n;e.exports=Backbone.View.extend({events:{click:"onClick"},tagName:"button",attributes:function(){var e=[i.names.css+"-switch-editor","switch-"+i.names.css];return{id:"content-"+i.names.css,class:e.join(" ")}},render:function(){return this.$el.text(i.view.editor.tabName),this},onClick:function(e){e.preventDefault(),e.stopPropagation(),Backbone.trigger("setka:editor:adapter:editorTabs:setka:click")}})},function(e,t){var i=window.setkaEditorAdapterL10n;e.exports=Backbone.View.extend({events:{click:"onClick"},classes:{muted:i.names.css+"-switch-editor-muted"},onClick:function(e){this.model.get("editorInitialized")&&(Backbone.trigger("setka:editor:adapter:defaultTabClick",e),e.stopImmediatePropagation())},mute:function(){return this.$el.addClass(this.classes.muted),this},unMute:function(){return this.$el.removeClass(this.classes.muted),this},isMuted:function(){return this.$el.hasClass(this.classes.muted)}})},function(e,t){jQuery;var i=window.setkaEditorAdapter;e.exports=Backbone.View.extend({views:{defaults:{},setka:null},initialize:function(){this.createSubViews()},createSubViews:function(){_.bindAll(this,"createDefaultTabsViews"),this.$(".wp-switch-editor").each(this.createDefaultTabsViews),this.views.setka=new i.view.EditorTabSetka},createDefaultTabsViews:function(e,t){this.views.defaults[e]=new i.view.EditorTabDefault({el:t,model:this.model})},render:function(){return this.views.setka.render(),this.$el.append(this.views.setka.$el),this},hideDefaults:function(){_.each(this.views.defaults,function(e){e.$el.hide()})},muteDefaults:function(){_.each(this.views.defaults,function(e){e.mute()})},unMuteDefaults:function(){_.each(this.views.defaults,function(e){e.unMute()})}})},function(e,t){e.exports=Backbone.View.extend({el:"#insert-media-button",initialize:function(){this.addEvents()},addEvents:function(){_.bindAll(this,"onEditorInitialized"),this.model.on("change:editorInitialized",this.onEditorInitialized)},onEditorInitialized:function(){this.model.get("editorInitialized")?this.hide():this.show()},hide:function(){this.$el.hide()},show:function(){this.$el.show()}})},function(e,t){var i=window.setkaEditorAdapterL10n;e.exports=Backbone.View.extend({el:"#wp-kit-notice-"+i.names.css+"-"+i.names.css+"-theme-disabled",initialize:function(){_.bindAll(this,"themeDisabled","themeEnabled"),this.addEvents()},addEvents:function(){Backbone.on("setka:editor:adapter:editors:setka:themeDisabled",this.themeDisabled),Backbone.on("setka:editor:adapter:editors:setka:themeEnabled",this.themeEnabled)},themeDisabled:function(){this.show()},themeEnabled:function(){this.hide()},show:function(){this.$el.removeClass("hidden")},hide:function(){this.$el.addClass("hidden")}})},function(e,t){var i=window.setkaEditorAdapterL10n;e.exports=Backbone.View.extend({el:"#wp-kit-notice-"+i.names.css+"-"+i.names.css+"-cant-find-resources",initialize:function(){_.bindAll(this,"requiredResourcesNotAvailable","requiredResourcesAvailable"),this.addEvents()},addEvents:function(){Backbone.on("setka:editor:adapter:editors:setka:requiredResourcesNotAvailable",this.requiredResourcesNotAvailable),Backbone.on("setka:editor:adapter:editors:setka:requiredResourcesAvailable",this.requiredResourcesAvailable)},requiredResourcesNotAvailable:function(){this.show()},requiredResourcesAvailable:function(){this.hide()},show:function(){this.$el.removeClass("hidden")},hide:function(){this.$el.addClass("hidden")}})},function(e,t){e.exports=Backbone.View.extend({statusClasses:{success:"notice-success",warning:"notice-warning",error:"notice-error",info:"notice-info"},removeAllStatuses:function(){_.each(this.statusClasses,function(e,t,i){this.$el.removeClass(e)},this)},setStatusSuccess:function(){this.removeAllStatuses(),this.$el.addClass(this.statusClasses.success)},setStatusWarning:function(){this.removeAllStatuses(),this.$el.addClass(this.statusClasses.warning)},setStatusError:function(){this.removeAllStatuses(),this.$el.addClass(this.statusClasses.error)},setStatusInfo:function(){this.removeAllStatuses(),this.$el.addClass(this.statusClasses.info)}})},function(e,t){e.exports=Backbone.View.extend({el:"#adv-settings .editor-expand",initialize:function(){_.bindAll(this,"onLaunch","onStop"),this.addEvents()},addEvents:function(){Backbone.on("setka:editor:adapter:editors:setka:launch",this.onLaunch),Backbone.on("setka:editor:adapter:editors:setka:stop",this.onStop)},removeEvents:function(){Backbone.off("setka:editor:adapter:editors:setka:launch",this.onLaunch),Backbone.off("setka:editor:adapter:editors:setka:stop",this.onStop)},onLaunch:function(){this.hide()},onStop:function(){this.show()},hide:function(){this.$el.hide()},show:function(){this.$el.show()}})},function(e,t){var i=window.setkaEditorAdapterL10n;e.exports=Backbone.View.extend({tagName:"link",attributes:{rel:"stylesheet"},getSrc:function(){return"//use.typekit.net/"+this.model.get("id")+".css"},getId:function(){return i.names.css+"-type-kit-"+this.model.get("id")},render:function(){this.$el.attr("id",this.getId()).attr("href",this.getSrc()),document.head.appendChild(this.el)}})},function(e,t){e.exports=Backbone.View.extend({el:"html",initialize:function(){_.bindAll(this,"setkaEditorEnabled","setkaEditorDisabled"),this.addEvents()},addEvents:function(){Backbone.on("setka:editor:adapter:editors:setka:launch",this.setkaEditorEnabled),Backbone.on("setka:editor:adapter:editors:setka:stop",this.setkaEditorDisabled)},setkaEditorEnabled:function(){this.$el.addClass("wpstkeditor")},setkaEditorDisabled:function(){this.$el.removeClass("wpstkeditor")}})},function(e,t){e.exports=Backbone.View.extend({capabilities:[],constructor:function(e){this.capabilities=e},hasCapability:function(e){return _.has(this.capabilities,e)&&!0===this.capabilities[e]}})},function(e,t,i){var s=window.setkaEditorAdapter,n=jQuery,o=window.setkaEditorAdapterL10n,a=i(42);e.exports=Backbone.View.extend({views:{},utils:{},DOM:{},user:null,initialize:function(){this.user=new a(this.model.get("editorConfig").get("user").capabilities),this.setupDOM(),this.createUtils(),this.createSubViews(),_.bindAll(this,"switchToSetkaEditor","switchToDefaultEditor","onPostBoxesColumns","saveIntoDOM"),this.addEvents(),this.render(),this.model.get("useSetkaEditor")&&this.switchToSetkaEditor()},setupDOM:function(){this.DOM.wp_content_wrap=n("#wp-content-wrap")},createUtils:function(){this.utils.autosave=new s.utils.AutoSave({model:this.model}),this.utils.editorExpand={editorExpand:new s.utils.editorExpand.EditorExpand({model:this.model})},this.utils.typeKitManager=new s.utils.TypeKitManager({model:this.model})},createSubViews:function(){this.views.html=new s.view.HTML,this.views.adminMenu=new s.view.AdminMenu,this.views.screenMeta={editorExpand:new s.view.screenMeta.EditorExpand},this.views.notices={setkaEditorCantFindResources:new s.view.notices.SetkaEditorCantFindResources,setkaEditorThemeDisabled:new s.view.notices.SetkaEditorThemeDisabled},this.views.postStuff=new s.view.postStuff.PostStuff({model:this.model}),this.views.form=new s.view.Form({model:this.model}),this.views.addMediaButton=new s.view.AddMediaButton({model:this.model}),this.views.editorTabs=new s.view.EditorTabs({el:"#wp-"+this.model.get("textareaId")+"-wrap .wp-editor-tabs",model:this.model}),this.views.editorDefault=new s.view.EditorDefault({el:"#wp-"+this.model.get("textareaId")+"-editor-container",model:this.model}),this.views.setkaEditor=new s.view.Editor({model:this.model,user:this.user}),this.views.pointers={disabledTabs:new s.view.pointers.DisabledTabsPointer}},addEvents:function(){Backbone.on("setka:editor:adapter:editorTabs:setka:click",this.switchToSetkaEditor),Backbone.on("setka:editor:adapter:editorTabs:default:click",this.switchToDefaultEditor)},render:function(){this.views.form.render(),this.views.editorTabs.render(),this.views.setkaEditor.render(),this.DOM.wp_content_wrap.append(this.views.setkaEditor.$el)},switchToSetkaEditor:function(){this.views.setkaEditor.isRequiredResourcesAvailable()?(Backbone.trigger("setka:editor:adapter:editors:setka:requiredResourcesAvailable"),this.views.setkaEditor.isThemeDisabled()?Backbone.trigger("setka:editor:adapter:editors:setka:themeDisabled"):Backbone.trigger("setka:editor:adapter:editors:setka:themeEnabled"),_.isUndefined(window.switchEditors)||window.switchEditors.go(this.model.get("textareaId"),"html"),this.views.editorDefault.syncModel(),(_.isEmpty(this.model.get("editorContent"))||this.model.get("useSetkaEditor")||confirm(o.view.editor.switchToSetkaEditorConfirm))&&(this.DOM.wp_content_wrap.removeClass("html-active tmce-active").addClass(o.names.css+"-active"),this.views.setkaEditor.show(),this.views.editorDefault.hide(),this.views.editorTabs.muteDefaults(),window.setInterval(this.saveIntoDOM,15e3),Backbone.on("setka:editor:adapter:save",this.saveIntoDOM),this.isEditorFitToSize()||this.views.adminMenu.fold(),this.isEditorFitToSize()||2!==this.model.get("postBoxesColumns")||this.views.postStuff.collapse(),this.model.on("change:postBoxesColumns",this.onPostBoxesColumns),this.views.setkaEditor.afterShow())):Backbone.trigger("setka:editor:adapter:editors:setka:requiredResourcesNotAvailable")},switchToDefaultEditor:function(){this.DOM.wp_content_wrap.removeClass(o.names.css+"-active").addClass("html-active"),window.clearInterval(this.saveIntoDOM),Backbone.off("setka:editor:adapter:save",this.saveIntoDOM),this.saveIntoDOM(),this.views.editorDefault.show(),this.views.setkaEditor.hide(),this.views.editorTabs.unMuteDefaults(),this.model.off("change:postBoxesColumns",this.onPostBoxesColumns),this.views.postStuff.unCollapse()},isEditorFitToSize:function(){return this.views.postStuff.views.postBody.$el.width()>=this.views.setkaEditor.getWidth()},onPostBoxesColumns:function(){1===this.model.get("postBoxesColumns")?this.views.postStuff.unCollapse():this.isEditorFitToSize()||this.views.postStuff.collapse(),this.views.setkaEditor.recalculateWidth()},saveIntoDOM:function(){return this.views.setkaEditor.syncModel(),this.views.editorDefault.setContent(),this}})},function(e,t){e.exports=Backbone.Collection.extend({})},function(e,t){e.exports=Backbone.Collection.extend({})},function(e,t){e.exports=Backbone.Model.extend({})},function(e,t){e.exports=Backbone.Model.extend({isDisabled:function(){var e=this.get("disabled");return!_.isUndefined(this.get("disabled"))&&!0===e},getTypeKidId:function(){var e=this.get("kit_id");return _.isUndefined(e)&&(e=""),e}})},function(e,t){var i=window.setkaEditorAdapter;e.exports=Backbone.Model.extend({initialize:function(){this._setupThemes(),this._setupLayouts()},_setupThemes:function(){var e=new i.collection.Themes;_.each(this.get("themes"),function(t,s,n){e.add(new i.model.Theme(t))}),this.set("themes",e)},_setupLayouts:function(){var e=new i.collection.Layouts;_.each(this.get("layouts"),function(t,s,n){e.add(new i.model.Layout(t))}),this.set("layouts",e)},getThemeBySlug:function(e){return this.get("themes").findWhere({id:e})},getThemeById:function(e){return this.get("themes").findWhere({theme_id:e})},getLayoutBySlug:function(e){return this.get("layouts").findWhere({id:e})},toJSON:function(e){var t=_.clone(this.attributes);return t.themes=t.themes.toJSON(),t.layouts=t.layouts.toJSON(),t}})},function(e,t){e.exports=Backbone.Model.extend({})},function(e,t){e.exports=Backbone.Model.extend({defaults:{postId:null,textareaId:null,editorInitialized:!1,editorConfig:{},editorContent:"",useSetkaEditor:!1,postBoxesColumns:null,postBoxContainer1Hovered:!1},initialize:function(){_.bindAll(this,"onEditorInitializedChanged");var e=this.get("useSetkaEditor");_.isBoolean(e)||("1"===e?this.set("useSetkaEditor",!0):this.set("useSetkaEditor",!1)),this.addEvents()},addEvents:function(){this.on("change:editorInitialized",this.onEditorInitializedChanged)},onEditorInitializedChanged:function(){this.set("useSetkaEditor",this.get("editorInitialized"))},getDataForAutosave:function(){return{useSetkaEditor:this.get("useSetkaEditor")?"1":"0",editorConfig:this.get("editorConfig").toJSON(),_wpnonce:this.get("nonce"),postId:this.get("postId")}}})},function(e,t,i){var s={};window.setkaEditorAdapter=s,s.model={Form:i(50),EditorConfig:i(49),EditorResources:i(48),Theme:i(47),Layout:i(46)},s.collection={Themes:i(45),Layouts:i(44)},s.view={Page:i(43),HTML:i(41),TypeKit:i(40),screenMeta:{EditorExpand:i(39)},notices:{Prototype:i(38),SetkaEditorCantFindResources:i(37),SetkaEditorThemeDisabled:i(36)},AddMediaButton:i(35),EditorTabs:i(34),EditorTabDefault:i(33),EditorTabSetka:i(32),Editor:i(31),EditorDefault:i(30),postStuff:{PostStuff:i(29),postBody:{PostBody:i(28)}},AdminMenu:i(27),Form:i(26),Settings:i(25),Nonce:i(24),PostId:i(23),pointers:{DisabledTabsPointer:i(22)}},s.utils={editorExpand:{EditorExpand:i(21)},AutoSave:i(20),autop:i(19),TypeKitManager:i(18)}}]));